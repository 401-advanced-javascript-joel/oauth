<!DOCTYPE html>
<html>
  <head>
    <title>Auth Test</title>
  </head>

  <body>
    <main>
      <a id="oauth" href="#">Login</a>
    </main>

    <script>
      // TODO: What is this URL used for?
      // DONE: This url is used to create the authorization_code and send it to
      //       the server
      let URL = 'https://www.linkedin.com/oauth/v2/authorization';

      // TODO: What do each of these key-value pairs mean?
      // DONE: These key-value pairs are different query parameters that we are
      //       going to be attaching to the above url
      let options = {
        response_type: 'code',
        client_id: '86insuizp2qee2',
        redirect_uri: 'https://jdb-oauth-server.herokuapp.com/oauth',
        scope: 'r_liteprofile r_emailaddress',
        state: 'asldfjdfs',
      };

      // TODO: What is this map function doing?
      // DONE: This map function is creating a string representation of the of
      //       the above options object encoded as a url
      let QueryString = Object.keys(options)
        .map((key) => {
          return `${key}=` + encodeURIComponent(options[key]);
        })
        .join('&');

      let authURL = `${URL}?${QueryString}`;

      let link = document.getElementById('oauth');
      link.setAttribute('href', authURL);
    </script>
  </body>
</html>
